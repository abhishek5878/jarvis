{% extends "content_base.html" %}

{% block title %}My Syntheses{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="mb-8 flex justify-between items-center">
        <h1 class="text-3xl font-bold text-gray-900">ðŸ”— My Syntheses</h1>
        <a href="/query" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl font-medium hover:opacity-90 transition">
            New Query
        </a>
    </div>

    {% if not syntheses %}
    <div class="bg-white rounded-2xl shadow-sm p-12 text-center border-2 border-gray-100">
        <p class="text-gray-600 mb-4">No syntheses yet. Run a synthesis-style query to connect ideas across your library.</p>
        <a href="/query" class="inline-block bg-blue-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-blue-700 transition">
            Go to Query
        </a>
    </div>
    {% else %}
    <div class="space-y-4">
        {% for s in syntheses %}
        <a href="/synthesis/{{ s.id }}" class="block bg-white rounded-2xl shadow-sm p-6 border-2 border-gray-100 hover:border-blue-200 transition">
            <h3 class="font-bold text-gray-900 mb-2">{{ s.query }}</h3>
            <p class="text-sm text-gray-600 line-clamp-2">{{ (s.synthesis_text or '')[:200] }}{% if (s.synthesis_text or '')|length > 200 %}...{% endif %}</p>
            <p class="text-xs text-gray-500 mt-2">{{ s.created_at[:16] if s.created_at else '' }}</p>
        </a>
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endblock %}
